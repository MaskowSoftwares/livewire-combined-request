var c={once:!0,rootMargin:"0px 0px -10% 0px",threshold:.25,watchMutations:!0,readyClass:"aos-ready",activeClass:"aos-in",attribute:"data-aos"},r=class{constructor(t={}){this.elements=new Set;this.options={...c,...t}}init(t=document){this.disconnect(),this.setupObserver(),this.collectElements(t),this.attachMutationObserver(t)}refresh(t=document){this.collectElements(t)}destroy(){this.disconnect(),this.elements.clear()}setupObserver(){typeof window!="undefined"&&(this.observer=new IntersectionObserver(t=>{t.forEach(e=>{var s;let i=e.target;e.isIntersecting||e.intersectionRatio>0?(this.reveal(i),this.options.once&&((s=this.observer)==null||s.unobserve(i))):this.options.once||this.hide(i)})},{rootMargin:this.options.rootMargin,threshold:this.options.threshold}))}attachMutationObserver(t){var e;!this.options.watchMutations||typeof MutationObserver=="undefined"||((e=this.mutationObserver)==null||e.disconnect(),this.mutationObserver=new MutationObserver(i=>{let s=[];i.forEach(a=>{a.addedNodes.forEach(n=>{n instanceof HTMLElement&&(n.hasAttribute(this.options.attribute)&&s.push(n),n.querySelectorAll(`[${this.options.attribute}]`).forEach(d=>{d instanceof HTMLElement&&s.push(d)}))})}),s.length&&s.forEach(a=>this.prepareElement(a))}),this.mutationObserver.observe(t,{childList:!0,subtree:!0}))}disconnect(){var t,e;(t=this.observer)==null||t.disconnect(),(e=this.mutationObserver)==null||e.disconnect()}collectElements(t){if(typeof document=="undefined")return;Array.from(t.querySelectorAll(`[${this.options.attribute}]`)).forEach(i=>this.prepareElement(i))}prepareElement(t){this.elements.has(t)||t.hasAttribute(this.options.attribute)&&(t.classList.add(this.options.readyClass),this.applyTiming(t),this.observe(t))}observe(t){this.observer&&(this.elements.add(t),this.observer.observe(t))}applyTiming(t){let e=t.getAttribute("data-aos-duration"),i=t.getAttribute("data-aos-delay"),s=t.getAttribute("data-aos-easing");e&&t.style.setProperty("--aos-duration",`${e}ms`),i&&t.style.setProperty("--aos-delay",`${i}ms`),s&&t.style.setProperty("--aos-easing",s)}reveal(t){t.classList.add(this.options.activeClass)}hide(t){t.classList.remove(this.options.activeClass)}};function h(o={}){return new r(o)}if(typeof document!="undefined"){let o=new r;o.init(),typeof window!="undefined"&&(window.AOSLite=o)}var p=r;export{r as ScrollAnimator,h as createAnimator,p as default};
